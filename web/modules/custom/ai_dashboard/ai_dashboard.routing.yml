ai_dashboard.main:
  path: '/ai-dashboard'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AiDashboardController::main'
    _title: 'AI Contribution Dashboard'
  requirements:
    _access: 'TRUE'

ai_dashboard.public_docs:
  path: '/ai-dashboard/docs'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\PublicDocsController::view'
    _title_callback: '\Drupal\ai_dashboard\Controller\PublicDocsController::title'
  requirements:
    _access: 'TRUE'

ai_dashboard.import_configurations:
  path: '/ai-dashboard/import-configurations'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ImportConfigurationsController::view'
    _title_callback: '\Drupal\ai_dashboard\Controller\ImportConfigurationsController::title'
  requirements:
    _access: 'TRUE'

ai_dashboard.contributors:
  path: '/ai-dashboard/contributors'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AiDashboardController::contributors'
    _title: 'Contributors Overview'
  requirements:
    _access: 'TRUE'

ai_dashboard.issues:
  path: '/ai-dashboard/issues'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AiDashboardController::issues'
    _title: 'Issues Overview'
  requirements:
    _access: 'TRUE'

ai_dashboard.resources:
  path: '/ai-dashboard/resources'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AiDashboardController::resources'
    _title: 'Resource Allocation'
  requirements:
    _access: 'TRUE'

ai_dashboard.calendar:
  path: '/ai-dashboard/calendar'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::calendarView'
    _title: 'AI Module Calendar'
  requirements:
    _access: 'TRUE'

ai_dashboard.priority_kanban:
  path: '/ai-dashboard/priority-kanban'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\PriorityKanbanController::kanbanView'
    _title: 'Priority Kanban Board'
  requirements:
    _access: 'TRUE'

ai_dashboard.calendar_non_dev:
  path: '/ai-dashboard/calendar/organizational'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::calendarViewNonDev'
    _title: 'Organizational Issues Calendar'
  requirements:
    _access: 'TRUE' 

# Admin routes for content management
ai_dashboard.admin:
  path: '/ai-dashboard/admin'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminToolsController::adminToolsLanding'
    _title: 'AI Dashboard Admin Tools'
  requirements:
    _permission: 'access ai dashboard'

ai_dashboard.admin.legacy:
  path: '/admin/ai-dashboard'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminToolsController::adminToolsLanding'
    _title: 'AI Dashboard Admin Tools'
  requirements:
    _permission: 'access ai dashboard'

ai_dashboard.admin.contributors:
  path: '/ai-dashboard/admin/contributors'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::contributorsAdmin'
    _title: 'Contributors Administration'
  requirements:
    _permission: 'access ai dashboard'

ai_dashboard.admin.issues:
  path: '/ai-dashboard/admin/issues'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::issuesAdmin'
    _title: 'Issues Administration'
  requirements:
    _permission: 'access ai dashboard'

ai_dashboard.admin.tag_mappings:
  path: '/ai-dashboard/admin/tag-mappings'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::tagMappingsAdmin'
    _title: 'Tag Mappings Administration'
  requirements:
    _permission: 'access ai dashboard'

ai_dashboard.admin.documentation:
  path: '/ai-dashboard/admin/documentation'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\DocumentationController::view'
    _title: 'Technical Documentation'
  requirements:
    _permission: 'access ai dashboard'


ai_dashboard.admin.import:
  path: '/ai-dashboard/admin/import'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ImportAdminController::redirectToModuleImports'
    _title: 'Import Management'
  requirements:
    _permission: 'administer ai dashboard imports'

ai_dashboard.admin.import.run:
  path: '/ai-dashboard/admin/import/run/{node}'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ImportAdminController::runImport'
  options:
    parameters:
      node:
        type: entity:node
        bundle:
          - ai_import_config
  requirements:
    _permission: 'administer ai dashboard imports'
    config_id: \d+

ai_dashboard.admin.import.run_all:
  path: '/ai-dashboard/admin/import/run-all'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ImportAdminController::runAllImports'
  requirements:
    _permission: 'administer ai dashboard imports'

ai_dashboard.admin.import.delete_all:
  path: '/ai-dashboard/admin/import/delete-all'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ImportAdminController::deleteAllIssues'
  requirements:
    _permission: 'administer ai dashboard imports'

# Module Import routes
entity.module_import.collection:
  path: '/admin/config/ai-dashboard/module-import'
  defaults:
    _entity_list: 'module_import'
    _title: 'Module Imports'
  requirements:
    _permission: 'administer ai dashboard imports'

ai_dashboard.module_import.add:
  path: '/admin/config/ai-dashboard/module-import/add'
  defaults:
    _entity_form: 'module_import.add'
    _title: 'Add Module Import'
  requirements:
    _permission: 'administer ai dashboard imports'

entity.module_import.edit_form:
  path: '/admin/config/ai-dashboard/module-import/{module_import}'
  defaults:
    _entity_form: 'module_import.edit'
    _title: 'Edit Module Import'
  requirements:
    _permission: 'administer ai dashboard imports'

entity.module_import.delete_form:
  path: '/admin/config/ai-dashboard/module-import/{module_import}/delete'
  defaults:
    _entity_form: 'module_import.delete'
    _title: 'Delete Module Import'
  requirements:
    _permission: 'administer ai dashboard imports'

ai_dashboard.module_import.run:
  path: '/admin/config/ai-dashboard/module-import/{module_import}/run'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ImportAdminController::runModuleImport'
    _title: 'Run Module Import'
  options:
    parameters:
      module_import:
        type: entity:module_import
  requirements:
    _permission: 'administer ai dashboard imports'

# CSV Import routes
ai_dashboard.contributor_csv_import:
  path: '/ai-dashboard/admin/contributor-import'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ContributorCsvController::importForm'
    _title: 'Import Contributors from CSV'
  requirements:
    _permission: 'administer ai dashboard'

ai_dashboard.contributor_csv_template:
  path: '/ai-dashboard/admin/contributor-import/template'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ContributorCsvController::downloadTemplate'
  requirements:
    _permission: 'administer ai dashboard'

ai_dashboard.contributor_csv_upload:
  path: '/ai-dashboard/admin/contributor-import/upload'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ContributorCsvController::processImport'
  requirements:
    _permission: 'administer ai dashboard'
    _csrf_token: 'TRUE'
  methods: [POST]

# API routes for backlog functionality
ai_dashboard.api.assign_issue:
  path: '/ai-dashboard/api/assign-issue'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::assignIssue'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.copy_week:
  path: '/ai-dashboard/api/copy-week'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::copyWeekAssignments'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.unassign_issue:
  path: '/ai-dashboard/api/unassign-issue'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::unassignIssue'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.sync_drupal_assignments:
  path: '/ai-dashboard/api/sync-drupal-assignments'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::syncDrupalAssignments'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.sync_all_drupal_assignments:
  path: '/ai-dashboard/api/sync-all-drupal-assignments'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::syncAllDrupalAssignments'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.remove_all_week_issues:
  path: '/ai-dashboard/api/remove-all-week-issues'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::removeAllWeekIssues'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.save_tag_mapping:
  path: '/ai-dashboard/api/save-tag-mapping'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::saveTagMapping'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.ignore_tag:
  path: '/ai-dashboard/api/ignore-tag'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::ignoreTag'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.restore_tag:
  path: '/ai-dashboard/api/restore-tag'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::restoreTag'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.remove_tag_mapping:
  path: '/ai-dashboard/api/remove-mapping'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\AdminViewsController::removeTagMapping'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

ai_dashboard.api.update_all_mappings:
  path: '/ai-dashboard/api/update-all-mappings'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\CalendarController::updateAllTagMappings'
  requirements:
    _permission: 'access ai dashboard'
    _csrf_request_header_token: 'TRUE'
  methods: [POST]

# Assignment Record entity routes
entity.assignment_record.collection:
  path: '/admin/ai-dashboard/assignment-records'
  defaults:
    _entity_list: 'assignment_record'
    _title: 'Assignment Records'
  requirements:
    _permission: 'administer ai dashboard content'

entity.assignment_record.add_form:
  path: '/admin/ai-dashboard/assignment-record/add'
  defaults:
    _entity_form: 'assignment_record.add'
    _title: 'Add Assignment Record'
  requirements:
    _permission: 'administer ai dashboard content'

entity.assignment_record.edit_form:
  path: '/admin/ai-dashboard/assignment-record/{assignment_record}/edit'
  defaults:
    _entity_form: 'assignment_record.edit'
    _title: 'Edit Assignment Record'
  requirements:
    _permission: 'administer ai dashboard content'

entity.assignment_record.delete_form:
  path: '/admin/ai-dashboard/assignment-record/{assignment_record}/delete'
  defaults:
    _entity_form: 'assignment_record.delete'
    _title: 'Delete Assignment Record'
  requirements:
    _permission: 'administer ai dashboard content'

entity.assignment_record.canonical:
  path: '/admin/ai-dashboard/assignment-record/{assignment_record}'
  defaults:
    _entity_view: 'assignment_record.full'
    _title: 'Assignment Record'
  requirements:
    _permission: 'administer ai dashboard content'
ai_dashboard.projects:
  path: '/ai-dashboard/projects'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ProjectController::list'
    _title: 'AI Projects'
  requirements:
    _access: 'TRUE'

ai_dashboard.project_add:
  path: '/ai-dashboard/projects/add'
  defaults:
    _form: '\Drupal\ai_dashboard\Form\ProjectForm'
    _title: 'Add Project'
  requirements:
    _permission: 'administer ai dashboard content'

ai_dashboard.project_issues:
  path: '/ai-dashboard/project/{project_name}/issues'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ProjectIssuesController::manageByName'
    _title_callback: '\Drupal\ai_dashboard\Controller\ProjectIssuesController::titleByName'
  requirements:
    _access: 'TRUE'
    project_name: '[a-zA-Z0-9\-_]+'

ai_dashboard.project_issues_save_order:
  path: '/ai-dashboard/project/{project_name}/issues/save-order'
  defaults:
    _controller: '\Drupal\ai_dashboard\Controller\ProjectIssuesController::saveOrderByName'
  requirements:
    _permission: 'administer ai dashboard content'
    project_name: '[a-zA-Z0-9\-_]+'
  methods: [POST]
